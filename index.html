<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Soalat_Test_School</title>
<style>
body{
  font-family:tahoma;
  background:#f4f6f8;
  text-align:center;
}
.box{
  background:#fff;
  padding:20px;
  margin:20px auto;
  width:90%;
  max-width:500px;
  border-radius:10px;
}
button{
  padding:10px 20px;
  font-size:16px;
  margin:6px;
}
#timer { color:red; font-weight:bold; }
</style>
</head>
<body>

<div class="box" id="startBox">
  <h2>Ø¢Ø²Ù…ÙˆÙ† Ø¢Ù†Ù„Ø§ÛŒÙ†</h2>
  <p>Ù…ÙˆØ¶ÙˆØ¹: ØªØ§Ø±ÛŒØ® Ùˆ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒ Ø§ÛŒØ±Ø§Ù†</p>
  <input id="name" placeholder="Ù†Ø§Ù… Ø´Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ù‡">
  <br><br>
  <button onclick="startExam()">Ø´Ø±ÙˆØ¹</button>
</div>

<div class="box" id="examBox" style="display:none">
  <p>Ø³ÙˆØ§Ù„ <span id="qNum">1</span> Ø§Ø² 10</p>
  <p>â±ï¸ Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: <span id="timer">03:00</span></p>
  <h3 id="q"></h3>
  <div id="opts"></div>
</div>

<div class="box" id="endBox" style="display:none">
  <h2 id="result"></h2>
  <button onclick="location.reload()">Ø®Ø±ÙˆØ¬</button>
  <p>Ø·Ø±Ø§Ø­: aminsystem2000</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
// ğŸ”¹ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø²Ù…ÙˆÙ† Ø¯Ø§Ø®Ù„ Ù‡Ù…Ø§Ù† ÙØ§ÛŒÙ„
const HISTORY = [
  { q:"Ù¾Ø§ÛŒØªØ®Øª Ø§Ù…Ù¾Ø±Ø§ØªÙˆØ±ÛŒ Ù‡Ø®Ø§Ù…Ù†Ø´ÛŒ Ú©Ø¬Ø§ Ø¨ÙˆØ¯ØŸ", a:["Ù¾Ø±Ø³Ù¾ÙˆÙ„ÛŒØ³","Ø¨Ø§Ø¨Ù„","Ø³Ø§Ø±Ø¯","Ø§Ú©Ø¨Ø§ØªØ§Ù†"], c:"Ù¾Ø±Ø³Ù¾ÙˆÙ„ÛŒØ³" },
  { q:"Ú©Ø¯Ø§Ù… Ø´Ø§Ù‡ Ø³Ø§Ø³Ø§Ù†ÛŒ Ø¢ØªØ´Ú©Ø¯Ù‡ Ø¢Ø°Ø±Ú¯Ø´Ø³Ø¨ Ø±Ø§ Ø³Ø§Ø®ØªØŸ", a:["Ø®Ø³Ø±Ùˆ Ø§Ù†ÙˆØ´ÛŒØ±ÙˆØ§Ù†","Ø§Ø±Ø¯Ø´ÛŒØ± Ø¨Ø§Ø¨Ú©Ø§Ù†","Ø¨Ù‡Ø±Ø§Ù… Ú¯ÙˆØ±","Ø´Ø§Ù¾ÙˆØ± Ø¯ÙˆÙ…"], c:"Ø®Ø³Ø±Ùˆ Ø§Ù†ÙˆØ´ÛŒØ±ÙˆØ§Ù†" },
  { q:"Ø§Ù†Ù‚Ù„Ø§Ø¨ Ø§Ø³Ù„Ø§Ù…ÛŒ Ø§ÛŒØ±Ø§Ù† Ø¯Ø± Ú†Ù‡ Ø³Ø§Ù„ÛŒ Ø±Ø® Ø¯Ø§Ø¯ØŸ", a:["Û±Û³ÛµÛ·","Û±Û³Û´Û²","Û±Û³Û²Û°","Û±Û³Û°Ûµ"], c:"Û±Û³ÛµÛ·" },
  { q:"Ú©ÙˆØ±ÙˆØ´ Ú©Ø¨ÛŒØ± Ú†Ù‡ Ø§Ù…Ù¾Ø±Ø§ØªÙˆØ±ÛŒ Ø±Ø§ Ø¨Ù†ÛŒØ§Ù† Ú¯Ø°Ø§Ø´ØªØŸ", a:["Ù‡Ø®Ø§Ù…Ù†Ø´ÛŒ","Ø³Ø§Ø³Ø§Ù†ÛŒ","Ø§Ø´Ú©Ø§Ù†ÛŒ","ØµÙÙˆÛŒ"], c:"Ù‡Ø®Ø§Ù…Ù†Ø´ÛŒ" }
];

const GEOGRAPHY = [
  { q:"Ø¨Ø²Ø±Ú¯â€ŒØªØ±ÛŒÙ† Ø§Ø³ØªØ§Ù† Ø§ÛŒØ±Ø§Ù† Ú©Ø¯Ø§Ù… Ø§Ø³ØªØŸ", a:["Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†","Ú©Ø±Ù…Ø§Ù†","Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ","Ø§ØµÙÙ‡Ø§Ù†"], c:"Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†" },
  { q:"Ø±ÙˆØ¯ Ú©Ø§Ø±ÙˆÙ† Ø§Ø² Ú©Ø¬Ø§ Ø³Ø±Ú†Ø´Ù…Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ØŸ", a:["Ø²Ø§Ú¯Ø±Ø³","Ø§Ù„Ø¨Ø±Ø²","Ú©ÙˆÛŒØ± Ù„ÙˆØª","Ø¯Ø´Øª Ú©ÙˆÛŒØ±"], c:"Ø²Ø§Ú¯Ø±Ø³" },
  { q:"Ø´Ù‡Ø± ØªØ¨Ø±ÛŒØ² Ù…Ø±Ú©Ø² Ú©Ø¯Ø§Ù… Ø§Ø³ØªØ§Ù† Ø§Ø³ØªØŸ", a:["Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ","Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ","Ø§Ø±Ø¯Ø¨ÛŒÙ„","Ø²Ù†Ø¬Ø§Ù†"], c:"Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ" },
  { q:"Ø¯Ø±ÛŒØ§Ú†Ù‡ Ø§Ø±ÙˆÙ…ÛŒÙ‡ Ø¯Ø± Ú©Ø¯Ø§Ù… Ø§Ø³ØªØ§Ù† Ø§Ø³ØªØŸ", a:["Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ","Ú©Ø±Ø¯Ø³ØªØ§Ù†","Ù‡Ù…Ø¯Ø§Ù†","Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡"], c:"Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ" }
];

const MIXED = [
  { q:"Ø´Ù‡Ø± Ø´ÙˆØ´ Ø¯Ø± Ú©Ø¯Ø§Ù… Ø§Ø³ØªØ§Ù† Ú©Ù†ÙˆÙ†ÛŒ Ø§ÛŒØ±Ø§Ù† Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯ØŸ", a:["Ø§ÛŒÙ„Ø§Ù…","Ø®ÙˆØ²Ø³ØªØ§Ù†","Ù„Ø±Ø³ØªØ§Ù†","Ø¨ÙˆØ´Ù‡Ø±"], c:"Ø®ÙˆØ²Ø³ØªØ§Ù†" },
  { q:"Ø±Ø§Ù‡ Ø§Ø¨Ø±ÛŒØ´Ù… Ú†Ù‡ Ù†Ù‚Ø´ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ±Ø§Ù† ØªØ§Ø±ÛŒØ®ÛŒ Ø¯Ø§Ø´ØªØŸ", a:["ØµØ±ÙØ§Ù‹ Ù†Ø¸Ø§Ù…ÛŒ","ØªØ¬Ø§Ø±ÛŒ Ùˆ ÙØ±Ù‡Ù†Ú¯ÛŒ","Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ","Ù…Ø°Ù‡Ø¨ÛŒ"], c:"ØªØ¬Ø§Ø±ÛŒ Ùˆ ÙØ±Ù‡Ù†Ú¯ÛŒ" }
];

// ğŸ”¹ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„
let qs=[],i=0,score=0,time=180,timer;

// ğŸ”¹ ØªÙˆØ§Ø¨Ø¹
function shuffle(a){ return a.sort(()=>Math.random()-0.5); }

function startExam(){
  const n=document.getElementById("name").value.trim();
  if(!n){ alert("Ù†Ø§Ù… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"); return; }

  qs=shuffle(HISTORY).slice(0,4)
     .concat(shuffle(GEOGRAPHY).slice(0,4))
     .concat(shuffle(MIXED).slice(0,2));
  qs=shuffle(qs);

  document.getElementById("startBox").style.display="none";
  document.getElementById("examBox").style.display="block";

  i=0; score=0; time=180;
  showQ();
  startTimer();
}

function startTimer(){
  timer=setInterval(()=>{
    let m=Math.floor(time/60), s=time%60;
    document.getElementById("timer").innerText = ${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')};
    time--;
    if(time<0){ clearInterval(timer); finish(); }
  },1000);
}

function showQ(){
  if(i>=qs.length){ finish(); return; }

  document.getElementById("qNum").innerText = i+1;
  document.getElementById("q").innerText = qs[i].q;

  const opts=shuffle([...qs[i].a]);
  document.getElementById("opts").innerHTML = opts.map(o =>
    <button onclick="answer('${o}')">${o}</button>
  ).join("<br>");
}

function answer(x){
  if(x===qs[i].c) score++;
  i++;
  showQ();
}

function finish(){
  clearInterval(timer);
  document.getElementById("examBox").style.display="none";
  document.getElementById("endBox").style.display="block";
  document.getElementById("result").innerText = Ù†Ù…Ø±Ù‡ Ø´Ù…Ø§: ${score} Ø§Ø² 10;
  if(score===10) confetti();
}
</script>

</body>
</html>
